# Dockit - 도커 개발 환경 프로젝트 소개

## 프로젝트 개요

Dockit은 개발자들이 Docker 기반 개발 환경을 빠르고 쉽게 설정할 수 있도록 하는 모듈식 쉘 스크립트 도구입니다. 이 프로젝트는 컨테이너 기반 개발 환경을 표준화하고, 설정 과정을 간소화하여 개발자들이 개발에 집중할 수 있도록 돕는 것을 목표로 합니다.

## 주요 특징

### 1. 모듈식 아키텍처

Dockit은 다음과 같은 독립적인 모듈로 구성되어 있습니다:

- **common**: 공통 유틸리티 함수 및 변수
- **install**: 초기 설정 및 Docker 이미지 빌드
- **start/stop**: 컨테이너 시작/정지 관리
- **connect**: 실행 중인 컨테이너에 쉽게 접속
- **status**: 컨테이너 및 이미지 상태 확인
- **help**: 도움말 및 사용법 안내

이러한 모듈식 설계는 코드 유지보수와 확장을 용이하게 합니다.

### 2. 깔끔한 파일 구조

Dockit은 코드 구조의 명확성과 유지보수성을 높이기 위해 다음과 같은 디렉토리 구조를 채택했습니다:

- **src**: 모든 소스 코드가 포함된 디렉토리
  - **modules**: 기능별로 분리된 쉘 스크립트 모듈
  - **templates**: Docker 이미지 및 Compose 파일 템플릿
- **.dockit**: 모든 생성 파일을 한 곳에서 관리하는 디렉토리

이러한 구조는 다음과 같은 이점을 제공합니다:
- 프로젝트 루트 디렉토리가 깔끔하게 유지됨
- 소스 코드(src)와 생성 파일(.dockit)이 명확히 분리됨
- 버전 관리 시스템에서 생성 파일을 쉽게 제외할 수 있음
- 표준적인 프로젝트 구조를 따라 이해하기 쉬움

### 3. 사용자 친화적 인터페이스

- 대화형 설치 과정으로 사용자가 쉽게 설정을 커스터마이즈할 수 있음
- 컬러 출력으로 중요한 정보를 강조하여 가독성 향상
- 자세한 로깅으로 문제 해결이 용이함

### 4. 컨테이너-호스트 권한 문제 해결

개발 컨테이너에서 발생하는 일반적인 문제 중 하나는 파일 권한 관리입니다. Dockit은:

- 호스트 사용자의 UID/GID를 컨테이너 내부 사용자에게 적용
- 볼륨 마운트 시 권한 문제를 자동으로 해결하는 메커니즘 제공
- 볼륨 마운트를 통해 호스트와 컨테이너 간 원활한 파일 공유 지원

## 기술적 구현

### 설정 파일 관리

Dockit은 `.dockit/.env` 파일에 모든 설정을 저장합니다. 이 파일은:

1. 최초 설치 시 사용자 입력을 통해 생성됨
2. 후속 실행 시 자동으로 로드됨
3. 언제든지 수동으로 편집 가능함

### 도커 이미지 템플릿

기본 Dockerfile 템플릿은 다음 기능을 제공합니다:

- 사용자 생성 및 sudo 권한 설정
- 한국어 로케일 지원
- 개발 도구 및 유틸리티 설치
- 작업 디렉토리 구성 및 권한 설정

### 마이그레이션 지원

최근 업데이트에서는 기존 버전에서 새 버전으로의 마이그레이션도 자동화되었습니다:

- 이전 버전의 설정 파일 자동 감지 및 새 위치로 이동
- 오래된 로그 파일 정리
- 이전 참조명(docker-tools)을 새 이름(dockit)으로 변경

## 사용 사례

Dockit은 다음과 같은 상황에서 특히 유용합니다:

1. 팀 프로젝트에서 모든 개발자가 동일한 개발 환경을 사용해야 할 때
2. 로컬 환경 설정을 복잡하게 하지 않고 프로젝트별 의존성을 관리하고 싶을 때
3. 리눅스, macOS, Windows(WSL) 등 서로 다른 운영체제에서 일관된 개발 환경이 필요할 때
4. Docker를 사용하지만 docker-compose 명령어를 매번 입력하기 번거로울 때

## 향후 개발 계획

앞으로 계획하고 있는 기능 및 개선 사항:

1. 다양한 개발 환경을 위한 추가 템플릿 제공 (Node.js, Python, Java 등)
2. 네트워크 포트 설정을 위한 편의 기능 추가
3. GUI 기반 설정 도구 개발 검토
4. 컨테이너 업데이트 및 재빌드 명령 추가

## 결론

Dockit은 Docker의 강력함과 쉬운 사용성을 결합한 도구로, 개발자들이 복잡한 Docker 설정에 시간을 낭비하지 않고 빠르게 개발을 시작할 수 있도록 도와줍니다. 모듈식 설계와 깔끔한 파일 구조 덕분에 유지보수가 용이하고, 필요에 따라 쉽게 확장할 수 있습니다. 